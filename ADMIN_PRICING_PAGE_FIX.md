# ê´€ë¦¬ì ìš”ê¸ˆì œ í˜ì´ì§€ API ìˆ˜ì • ì™„ë£Œ ğŸ‰

## ğŸ“… ì™„ë£Œ ì¼ì‹œ
- **ë‚ ì§œ**: 2026-02-26
- **ì»¤ë°‹**: 2bd90fc
- **ë°°í¬ URL**: https://superplacestudy.pages.dev

---

## âœ… ìˆ˜ì • ë‚´ìš©

### **ë¬¸ì œ**: 
ê´€ë¦¬ì ìš”ê¸ˆì œ í˜ì´ì§€(`/dashboard/admin/pricing`)ì—ì„œ ë“±ë¡ëœ ìš”ê¸ˆì œê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ

### **ì›ì¸**:
1. `/api/admin/pricing` ì—”ë“œí¬ì¸íŠ¸ê°€ êµ¬ `pricing_plans` í…Œì´ë¸”ì„ ì‚¬ìš©
2. ìƒˆ êµ¬ë… ì‹œìŠ¤í…œì˜ `pricing_plans` í…Œì´ë¸” ìŠ¤í‚¤ë§ˆì™€ ë¶ˆì¼ì¹˜
3. ì»¬ëŸ¼ëª… ì°¨ì´ (camelCase vs snake_case)

### **í•´ê²°**:
`/api/admin/pricing` GET ì—”ë“œí¬ì¸íŠ¸ë¥¼ ìƒˆ êµ¬ë… ì‹œìŠ¤í…œ í…Œì´ë¸”ì— ì—°ë™

---

## ğŸ“Š API ì‘ë‹µ (ì„±ê³µ!)

### GET `/api/admin/pricing`

```json
{
  "success": true,
  "plans": [
    {
      "id": "plan-free",
      "name": "ë¬´ë£Œ í”Œëœ",
      "description": "ê°œì¸ ì‚¬ìš©ìë¥¼ ìœ„í•œ ë¬´ë£Œ í”Œëœ",
      "monthlyPrice": 0,
      "yearlyPrice": 0,
      "maxStudents": 5,
      "maxTeachers": 10,
      "features": [
        "ìµœëŒ€ 5ëª…ì˜ í•™ìƒ ê´€ë¦¬",
        "ì›” 10íšŒ ìˆ™ì œ ê²€ì‚¬",
        "ì›” 5íšŒ AI ì—­ëŸ‰ ë¶„ì„",
        "ì›” 10íšŒ ìœ ì‚¬ë¬¸ì œ ì¶œì œ",
        "ìµœëŒ€ 1ê°œ ëœë”©í˜ì´ì§€"
      ],
      "isPopular": 0,
      "isActive": 1,
      "maxHomeworkChecks": 10,
      "maxAIAnalysis": 5,
      "maxSimilarProblems": 10,
      "maxLandingPages": 1
    },
    {
      "id": "plan-starter",
      "name": "ìŠ¤íƒ€í„°",
      "monthlyPrice": 50000,
      "maxStudents": 30,
      "features": [...]
    },
    {
      "id": "plan-pro",
      "name": "í”„ë¡œ",
      "monthlyPrice": 100000,
      "maxStudents": 100,
      "features": [...]
    },
    {
      "id": "plan-enterprise",
      "name": "ì—”í„°í”„ë¼ì´ì¦ˆ",
      "monthlyPrice": 200000,
      "maxStudents": -1,  // ë¬´ì œí•œ
      "features": [
        "ë¬´ì œí•œ í•™ìƒ ë“±ë¡",
        "ë¬´ì œí•œ ìˆ™ì œ ê²€ì‚¬",
        "ë¬´ì œí•œ AI ì—­ëŸ‰ ë¶„ì„",
        "ë¬´ì œí•œ ìœ ì‚¬ë¬¸ì œ ì¶œì œ",
        "ë¬´ì œí•œ ëœë”©í˜ì´ì§€ ì œì‘"
      ]
    }
  ],
  "stats": [
    {
      "planId": "plan-free",
      "planName": "ë¬´ë£Œ í”Œëœ",
      "activeAcademies": 0
    },
    {
      "planId": "plan-starter",
      "planName": "ìŠ¤íƒ€í„°",
      "activeAcademies": 0
    },
    {
      "planId": "plan-pro",
      "planName": "í”„ë¡œ",
      "activeAcademies": 1  // 1ê°œ í•™ì›ì´ Pro í”Œëœ ì‚¬ìš© ì¤‘
    },
    {
      "planId": "plan-enterprise",
      "planName": "ì—”í„°í”„ë¼ì´ì¦ˆ",
      "activeAcademies": 0
    }
  ]
}
```

---

## ğŸ”§ ì£¼ìš” ë³€ê²½ì‚¬í•­

### 1ï¸âƒ£ SQL ì¿¼ë¦¬ ìˆ˜ì •

**ì´ì „ (ì˜¤ë¥˜ ë°œìƒ)**:
```sql
SELECT * FROM pricing_plans ORDER BY monthlyPrice ASC
```

**í˜„ì¬ (ì •ìƒ ì‘ë™)**:
```sql
SELECT 
  id,
  name,
  description,
  price_1month as monthlyPrice,
  price_6months as price6months,
  price_12months as price12months,
  max_students as maxStudents,
  max_homework_checks as maxHomeworkChecks,
  max_ai_analysis as maxAIAnalysis,
  max_similar_problems as maxSimilarProblems,
  max_landing_pages as maxLandingPages,
  isActive,
  createdAt,
  updatedAt
FROM pricing_plans 
WHERE isActive = 1
ORDER BY price_1month ASC
```

### 2ï¸âƒ£ ê¸°ëŠ¥ ëª©ë¡ ë™ì  ìƒì„±

```javascript
const features = [];

if (plan.maxStudents === -1) {
  features.push('ë¬´ì œí•œ í•™ìƒ ë“±ë¡');
} else {
  features.push(`ìµœëŒ€ ${plan.maxStudents}ëª…ì˜ í•™ìƒ ê´€ë¦¬`);
}

if (plan.maxHomeworkChecks === -1) {
  features.push('ë¬´ì œí•œ ìˆ™ì œ ê²€ì‚¬');
} else {
  features.push(`ì›” ${plan.maxHomeworkChecks}íšŒ ìˆ™ì œ ê²€ì‚¬`);
}
// ... ë‹¤ë¥¸ í•­ëª©ë“¤
```

### 3ï¸âƒ£ í†µê³„ ì¿¼ë¦¬ ìˆ˜ì •

**ì´ì „**:
```sql
SELECT COUNT(*) as count
FROM academy
WHERE subscriptionPlan = ? AND isActive = 1
```

**í˜„ì¬**:
```sql
SELECT COUNT(DISTINCT userId) as count
FROM user_subscriptions
WHERE planId = ? AND status = 'active'
```

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ í‘œì‹œ ê²°ê³¼

ê´€ë¦¬ì ìš”ê¸ˆì œ í˜ì´ì§€(`/dashboard/admin/pricing`)ì—ì„œ ë‹¤ìŒì´ í‘œì‹œë©ë‹ˆë‹¤:

### í†µê³„ ì¹´ë“œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë¬´ë£Œ í”Œëœ êµ¬ë…  â”‚ ìŠ¤íƒ€í„° êµ¬ë…     â”‚ í”„ë¡œ êµ¬ë… â­    â”‚ ì—”í„°í”„ë¼ì´ì¦ˆ    â”‚
â”‚ 0ê°œ í™œì„± í•™ì›   â”‚ 0ê°œ í™œì„± í•™ì›   â”‚ 1ê°œ í™œì„± í•™ì›   â”‚ 0ê°œ í™œì„± í•™ì›   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìš”ê¸ˆì œ ì¹´ë“œ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë¬´ë£Œ í”Œëœ                        â”‚  â”‚ ìŠ¤íƒ€í„°                          â”‚
â”‚ ê°œì¸ ì‚¬ìš©ìë¥¼ ìœ„í•œ ë¬´ë£Œ í”Œëœ      â”‚  â”‚ ì†Œê·œëª¨ í•™ì›ì„ ìœ„í•œ ì‹œì‘ í”Œëœ     â”‚
â”‚                                  â”‚  â”‚                                  â”‚
â”‚ ë¬´ë£Œ                             â”‚  â”‚ 50,000ì›/ì›”                      â”‚
â”‚                                  â”‚  â”‚                                  â”‚
â”‚ ìµœëŒ€ 5ëª… í•™ìƒ Â· 10ëª… ì„ ìƒë‹˜       â”‚  â”‚ ìµœëŒ€ 30ëª… í•™ìƒ Â· 10ëª… ì„ ìƒë‹˜     â”‚
â”‚                                  â”‚  â”‚                                  â”‚
â”‚ âœ… ìµœëŒ€ 5ëª…ì˜ í•™ìƒ ê´€ë¦¬           â”‚  â”‚ âœ… ìµœëŒ€ 30ëª…ì˜ í•™ìƒ ê´€ë¦¬         â”‚
â”‚ âœ… ì›” 10íšŒ ìˆ™ì œ ê²€ì‚¬             â”‚  â”‚ âœ… ì›” 100íšŒ ìˆ™ì œ ê²€ì‚¬            â”‚
â”‚ âœ… ì›” 5íšŒ AI ì—­ëŸ‰ ë¶„ì„           â”‚  â”‚ âœ… ì›” 50íšŒ AI ì—­ëŸ‰ ë¶„ì„          â”‚
â”‚ âœ… ì›” 10íšŒ ìœ ì‚¬ë¬¸ì œ ì¶œì œ          â”‚  â”‚ âœ… ì›” 100íšŒ ìœ ì‚¬ë¬¸ì œ ì¶œì œ        â”‚
â”‚ âœ… ìµœëŒ€ 1ê°œ ëœë”©í˜ì´ì§€            â”‚  â”‚ âœ… ìµœëŒ€ 3ê°œ ëœë”©í˜ì´ì§€           â”‚
â”‚                                  â”‚  â”‚                                  â”‚
â”‚ [ìˆ˜ì •] [ì‚­ì œ]                    â”‚  â”‚ [ìˆ˜ì •] [ì‚­ì œ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í”„ë¡œ ğŸ’ [ì¸ê¸°]                   â”‚  â”‚ ì—”í„°í”„ë¼ì´ì¦ˆ ğŸ¢                  â”‚
â”‚ ì¤‘ëŒ€í˜• í•™ì›ì„ ìœ„í•œ ì¶”ì²œ í”Œëœ      â”‚  â”‚ ëŒ€í˜• í•™ì›ì„ ìœ„í•œ ë¬´ì œí•œ í”Œëœ     â”‚
â”‚                                  â”‚  â”‚                                  â”‚
â”‚ 100,000ì›/ì›”                     â”‚  â”‚ 200,000ì›/ì›”                     â”‚
â”‚                                  â”‚  â”‚                                  â”‚
â”‚ ìµœëŒ€ 100ëª… í•™ìƒ Â· 10ëª… ì„ ìƒë‹˜     â”‚  â”‚ ë¬´ì œí•œ í•™ìƒ Â· 10ëª… ì„ ìƒë‹˜        â”‚
â”‚                                  â”‚  â”‚                                  â”‚
â”‚ âœ… ìµœëŒ€ 100ëª…ì˜ í•™ìƒ ê´€ë¦¬         â”‚  â”‚ âœ… ë¬´ì œí•œ í•™ìƒ ë“±ë¡              â”‚
â”‚ âœ… ì›” 500íšŒ ìˆ™ì œ ê²€ì‚¬            â”‚  â”‚ âœ… ë¬´ì œí•œ ìˆ™ì œ ê²€ì‚¬              â”‚
â”‚ âœ… ì›” 200íšŒ AI ì—­ëŸ‰ ë¶„ì„         â”‚  â”‚ âœ… ë¬´ì œí•œ AI ì—­ëŸ‰ ë¶„ì„           â”‚
â”‚ âœ… ì›” 500íšŒ ìœ ì‚¬ë¬¸ì œ ì¶œì œ        â”‚  â”‚ âœ… ë¬´ì œí•œ ìœ ì‚¬ë¬¸ì œ ì¶œì œ          â”‚
â”‚ âœ… ìµœëŒ€ 10ê°œ ëœë”©í˜ì´ì§€          â”‚  â”‚ âœ… ë¬´ì œí•œ ëœë”©í˜ì´ì§€ ì œì‘        â”‚
â”‚                                  â”‚  â”‚                                  â”‚
â”‚ [ìˆ˜ì •] [ì‚­ì œ]                    â”‚  â”‚ [ìˆ˜ì •] [ì‚­ì œ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ê²€ì¦ ì™„ë£Œ

- [x] 4ê°œ ìš”ê¸ˆì œ ì •ìƒ í‘œì‹œ (ë¬´ë£Œ, ìŠ¤íƒ€í„°, í”„ë¡œ, ì—”í„°í”„ë¼ì´ì¦ˆ)
- [x] ê° ìš”ê¸ˆì œë³„ ê°€ê²© ì •ë³´ ì •í™•
- [x] í•™ìƒ ìˆ˜ ì œí•œ ì •ë³´ í‘œì‹œ
- [x] ìˆ™ì œê²€ì‚¬, AIë¶„ì„, ìœ ì‚¬ë¬¸ì œ, ëœë”©í˜ì´ì§€ ì œí•œ í‘œì‹œ
- [x] ê¸°ëŠ¥ ëª©ë¡ ìë™ ìƒì„±
- [x] ë¬´ì œí•œ í”Œëœ ì§€ì› (-1 â†’ "ë¬´ì œí•œ" í‘œì‹œ)
- [x] ê° í”Œëœë³„ í™œì„± í•™ì› ìˆ˜ í†µê³„
- [x] í”„ë¡œ í”Œëœì— 1ê°œ í•™ì› í™œì„± í™•ì¸

---

## ğŸ”„ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì—”ë“œí¬ì¸íŠ¸

ë‹¤ìŒ ìš”ì²­ì€ ì´ì œ `/api/admin/pricing-plans`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:

- âŒ `POST /api/admin/pricing` â†’ âœ… `POST /api/admin/pricing-plans`
- âŒ `PUT /api/admin/pricing` â†’ âœ… `PUT /api/admin/pricing-plans`
- âŒ `DELETE /api/admin/pricing` â†’ âœ… `DELETE /api/admin/pricing-plans`

`/api/admin/pricing` GETì€ ê³„ì† ì‚¬ìš© ê°€ëŠ¥ (ì¡°íšŒ ì „ìš©)

---

## ğŸ“ ìˆ˜ì •ëœ íŒŒì¼

```
functions/api/admin/pricing.ts  # GET ì¿¼ë¦¬ ìˆ˜ì •, POST/PUT/DELETE ë¹„í™œì„±í™”
test_admin_pricing_page.sh      # í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
```

---

## ğŸš€ ë°°í¬ ì •ë³´

- **GitHub**: https://github.com/kohsunwoo12345-cmyk/superplace
- **ì»¤ë°‹**: 2bd90fc
- **ë°°í¬ URL**: https://superplacestudy.pages.dev
- **ê´€ë¦¬ì í˜ì´ì§€**: https://superplacestudy.pages.dev/dashboard/admin/pricing

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

```bash
# API ì§ì ‘ í…ŒìŠ¤íŠ¸
curl https://superplacestudy.pages.dev/api/admin/pricing | jq '.'

# ë˜ëŠ” í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
./test_admin_pricing_page.sh
```

---

## ğŸ‰ ê²°ë¡ 

**ê´€ë¦¬ì ìš”ê¸ˆì œ í˜ì´ì§€ì— ë“±ë¡ëœ ìš”ê¸ˆì œê°€ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤!**

âœ… 4ê°œ í”Œëœ (ë¬´ë£Œ, ìŠ¤íƒ€í„°, í”„ë¡œ, ì—”í„°í”„ë¼ì´ì¦ˆ)  
âœ… ê° í”Œëœë³„ ê°€ê²© ë° ì œí•œ ì‚¬í•­  
âœ… í™œì„± í•™ì› ìˆ˜ í†µê³„ (í”„ë¡œ í”Œëœ 1ê°œ í•™ì›)  
âœ… ë¬´ì œí•œ í”Œëœ ì§€ì›  
âœ… ê¸°ëŠ¥ ëª©ë¡ ìë™ ìƒì„±

ì´ì œ ê´€ë¦¬ìëŠ” ìš”ê¸ˆì œ í˜ì´ì§€ì—ì„œ ëª¨ë“  í”Œëœì„ í™•ì¸í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸŠ

---

**ì‘ì„±ì¼**: 2026-02-26  
**ì‘ì„±ì**: AI Assistant  
**ë¬¸ì„œ ë²„ì „**: 1.0
