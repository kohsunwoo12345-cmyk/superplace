# í•™ìƒ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ

## ğŸ¯ êµ¬í˜„ ì™„ë£Œ í•­ëª©

### 1. âœ… í•™ì›ë³„ í•™ìƒ í•„í„°ë§
í•™ì›ì¥/ì„ ìƒë‹˜ì€ ë³¸ì¸ í•™ì› í•™ìƒë§Œ, ê´€ë¦¬ìëŠ” ëª¨ë“  í•™ìƒì„ ì¡°íšŒí•©ë‹ˆë‹¤.

#### í•„í„°ë§ ë¡œì§
```typescript
// API: /api/students?role=ADMIN&academyId=1
if (role !== 'ADMIN' && role !== 'SUPER_ADMIN' && academyId) {
  query += ` AND academy_id = ?`;
  params.push(academyId);
}
```

#### ê¶Œí•œë³„ ì¡°íšŒ
| ì—­í•  | ì¡°íšŒ ë²”ìœ„ | í•„í„°ë§ |
|------|----------|--------|
| ê´€ë¦¬ì (ADMIN/SUPER_ADMIN) | ì „ì²´ í•™ìƒ | âŒ í•„í„° ì—†ìŒ |
| í•™ì›ì¥ (DIRECTOR) | ë³¸ì¸ í•™ì› í•™ìƒ | âœ… academy_idë¡œ í•„í„° |
| ì„ ìƒë‹˜ (TEACHER) | ë³¸ì¸ í•™ì› í•™ìƒ | âœ… academy_idë¡œ í•„í„° |

### 2. âœ… í•™ìƒ ìƒì„¸ í˜ì´ì§€
ê°œë³„ í•™ìƒì˜ ìƒì„¸ ì •ë³´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

#### URL
- **ê²½ë¡œ**: `/dashboard/students/detail?id={studentId}`
- **ë°©ì‹**: ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° (Next.js export ëª¨ë“œ í˜¸í™˜)

#### ì£¼ìš” ì •ë³´
**4ê°œ ì •ë³´ ì¹´ë“œ:**
- ğŸ“§ ì´ë©”ì¼
- ğŸ“± ì „í™”ë²ˆí˜¸
- ğŸ† í¬ì¸íŠ¸
- ğŸ“… ê°€ì…ì¼

**4ê°œ íƒ­:**
1. **ê¸°ë³¸ ì •ë³´**: ì´ë¦„, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸, í•™ì›, í¬ì¸íŠ¸, ì”ì•¡, ê°€ì…ì¼, ë§ˆì§€ë§‰ ë¡œê·¸ì¸
2. **í•™ìŠµ í˜„í™©**: ìˆ˜ê°• ì¤‘ì¸ ê³¼ëª© ë° ì§„ë„ (ì¤€ë¹„ ì¤‘)
3. **ì¶œì„ ê¸°ë¡**: ìµœê·¼ ì¶œì„ ë‚´ì—­ (ì¤€ë¹„ ì¤‘)
4. **í™œë™ ë‚´ì—­**: AI ì±„íŒ…, ìˆ™ì œ ì œì¶œ ë“± (ì¤€ë¹„ ì¤‘)

### 3. âœ… í•™ìƒ ì¶”ê°€ í˜ì´ì§€
ìƒˆë¡œìš´ í•™ìƒì„ ë“±ë¡í•©ë‹ˆë‹¤.

#### URL
- **ê²½ë¡œ**: `/dashboard/students/add`

#### ì…ë ¥ í•„ë“œ
```typescript
{
  name: string;           // ì´ë¦„ (í•„ìˆ˜)
  email: string;          // ì´ë©”ì¼/ì•„ì´ë”” (í•„ìˆ˜)
  password: string;       // ë¹„ë°€ë²ˆí˜¸ (í•„ìˆ˜, ìµœì†Œ 6ì)
  confirmPassword: string; // ë¹„ë°€ë²ˆí˜¸ í™•ì¸ (í•„ìˆ˜)
  phone?: string;         // ì „í™”ë²ˆí˜¸ (ì„ íƒ)
  academyName?: string;   // í•™ì›ëª… (ì„ íƒ)
}
```

#### ìœ íš¨ì„± ê²€ì‚¬
- âœ… ì´ë¦„: í•„ìˆ˜ ì…ë ¥
- âœ… ì´ë©”ì¼: ì˜¬ë°”ë¥¸ í˜•ì‹ ê²€ì‚¬ (`/^[^\s@]+@[^\s@]+\.[^\s@]+$/`)
- âœ… ë¹„ë°€ë²ˆí˜¸: ìµœì†Œ 6ì ì´ìƒ
- âœ… ë¹„ë°€ë²ˆí˜¸ í™•ì¸: ì¼ì¹˜ ì—¬ë¶€ í™•ì¸
- âœ… ì „í™”ë²ˆí˜¸: ìˆ«ìì™€ í•˜ì´í”ˆë§Œ í—ˆìš© (`/^[0-9-]+$/`)

#### UI ê¸°ëŠ¥
- ğŸ‘ï¸ ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€
- ğŸ« í•™ì›ì¥/ì„ ìƒë‹˜ì¸ ê²½ìš° í•™ì›ëª… ìë™ ì„¤ì •
- âš ï¸ ì‹¤ì‹œê°„ ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
- ğŸ’¡ ì•ˆë‚´ ì‚¬í•­ ì¹´ë“œ

---

## ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸

### GET /api/students
í•™ìƒ ëª©ë¡ ì¡°íšŒ (í•™ì›ë³„ í•„í„°ë§ ì§€ì›)

#### ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°
- `role`: ì‚¬ìš©ì ì—­í•  (ADMIN, DIRECTOR, TEACHER)
- `academyId`: í•™ì› ID (ê´€ë¦¬ìê°€ ì•„ë‹Œ ê²½ìš° í•„í„°ë§)

#### ì‘ë‹µ ì˜ˆì‹œ
```json
{
  "success": true,
  "students": [
    {
      "id": "116",
      "email": "student-new@test.com",
      "name": "ê¹€í•™ìƒ",
      "phone": "010-5555-6666",
      "role": "STUDENT",
      "academyId": "1",
      "academyName": "í…ŒìŠ¤íŠ¸í•™ì›",
      "createdAt": "2026-02-05 13:30:00",
      "lastLoginAt": null,
      "points": 0,
      "balance": 0
    }
  ],
  "count": 1
}
```

### POST /api/auth/signup
í•™ìƒ ë“±ë¡ (ê¸°ì¡´ API í™œìš©)

#### ìš”ì²­ ë°”ë””
```json
{
  "name": "ê¹€í•™ìƒ",
  "email": "student-new@test.com",
  "password": "test1234",
  "phone": "010-5555-6666",
  "role": "STUDENT",
  "academyName": "í…ŒìŠ¤íŠ¸í•™ì›"
}
```

#### ì‘ë‹µ ì˜ˆì‹œ
```json
{
  "success": true,
  "message": "íšŒì›ê°€ì… ì„±ê³µ",
  "data": {
    "user": {
      "id": 116,
      "email": "student-new@test.com",
      "name": "ê¹€í•™ìƒ",
      "role": "STUDENT"
    },
    "token": "eyJhbG..."
  }
}
```

---

## ğŸ“‚ ìƒì„±ëœ íŒŒì¼ (4ê°œ)

### API (1ê°œ)
1. `functions/api/students.ts`
   - í•™ìƒ ëª©ë¡ ì¡°íšŒ
   - í•™ì›ë³„ í•„í„°ë§ ë¡œì§
   - 1,762 characters

### Pages (3ê°œ)
2. `src/app/dashboard/students/add/page.tsx`
   - í•™ìƒ ì¶”ê°€ í˜ì´ì§€
   - í¼ ìœ íš¨ì„± ê²€ì‚¬
   - 10,280 characters

3. `src/app/dashboard/students/detail/page.tsx`
   - í•™ìƒ ìƒì„¸ í˜ì´ì§€
   - 4ê°œ íƒ­ êµ¬ì„±
   - 9,774 characters

4. `src/app/dashboard/students/page.tsx` (ìˆ˜ì •)
   - í•™ì›ë³„ í•„í„°ë§ ì ìš©
   - ìƒì„¸ë³´ê¸° ë²„íŠ¼ ì¶”ê°€
   - í•™ìƒ ì¶”ê°€ ë²„íŠ¼ í™œì„±í™”

---

## ğŸ¨ UI/UX ê°œì„ 

### í•™ìƒ ëª©ë¡ í˜ì´ì§€
**Before:**
- ì •ì  "í•™ìƒ ì¶”ê°€" ë²„íŠ¼ (ë™ì‘ ì—†ìŒ)
- ì „ì²´ í•™ìƒ í‘œì‹œ

**After:**
- âœ… ë™ì  "í•™ìƒ ì¶”ê°€" ë²„íŠ¼ (í´ë¦­ ì‹œ `/dashboard/students/add` ì´ë™)
- âœ… í•™ì›ë³„ í•„í„°ë§ (ê¶Œí•œì— ë”°ë¼)
- âœ… ê° í•™ìƒ ì¹´ë“œì— "ìƒì„¸ë³´ê¸°" ë²„íŠ¼

### í•™ìƒ ìƒì„¸ í˜ì´ì§€
- ğŸ“Š 4ê°œ ìš”ì•½ ì¹´ë“œ (ì´ë©”ì¼, ì „í™”ë²ˆí˜¸, í¬ì¸íŠ¸, ê°€ì…ì¼)
- ğŸ“‘ 4ê°œ íƒ­ (ê¸°ë³¸ ì •ë³´, í•™ìŠµ í˜„í™©, ì¶œì„ ê¸°ë¡, í™œë™ ë‚´ì—­)
- ğŸ”™ ë’¤ë¡œê°€ê¸° ë²„íŠ¼
- âœï¸ ì •ë³´ ìˆ˜ì • ë²„íŠ¼ (ì¤€ë¹„ ì¤‘)

### í•™ìƒ ì¶”ê°€ í˜ì´ì§€
- ğŸ“ ê¹”ë”í•œ ì…ë ¥ í¼
- ğŸ‘ï¸ ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¹€ í† ê¸€
- âš ï¸ ì‹¤ì‹œê°„ ì˜¤ë¥˜ ë©”ì‹œì§€
- ğŸ’¡ ì•ˆë‚´ ì‚¬í•­ ì¹´ë“œ
- ğŸ”™ ì·¨ì†Œ ë²„íŠ¼

---

## ğŸ”§ ê¸°ìˆ  êµ¬í˜„

### ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ë¼ìš°íŒ…
Next.js export ëª¨ë“œì—ì„œëŠ” ë™ì  ë¼ìš°íŠ¸(`[id]`)ê°€ ì œí•œë˜ë¯€ë¡œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```typescript
// âŒ ë™ì  ë¼ìš°íŠ¸ (export ëª¨ë“œ ë¶ˆê°€)
/dashboard/students/[id]/page.tsx

// âœ… ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° (export ëª¨ë“œ í˜¸í™˜)
/dashboard/students/detail?id=116
```

### ê¶Œí•œ ê¸°ë°˜ í•„í„°ë§
```typescript
const fetchStudents = async () => {
  const params = new URLSearchParams();
  if (user.role) {
    params.append('role', user.role);
  }
  if (user.academy_id) {
    params.append('academyId', user.academy_id);
  }
  
  const response = await fetch(`/api/students?${params.toString()}`);
  // ...
};
```

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼

### 1. í•™ìƒ ëª©ë¡ ì¡°íšŒ (ê´€ë¦¬ì)
```bash
curl "/api/students?role=ADMIN"
```
**ê²°ê³¼**: âœ… ì„±ê³µ
- 8ëª…ì˜ í•™ìƒ ì¡°íšŒ
- ëª¨ë“  í•™ì›ì˜ í•™ìƒ í¬í•¨

### 2. í•™ìƒ ì¶”ê°€
```bash
curl -X POST /api/auth/signup \
  -d '{
    "name": "ê¹€í•™ìƒ",
    "email": "student-new@test.com",
    "password": "test1234",
    "phone": "010-5555-6666",
    "role": "STUDENT"
  }'
```
**ê²°ê³¼**: âœ… ì„±ê³µ
- í•™ìƒ ID: 116
- ì´ë©”ì¼: student-new@test.com
- í† í° ë°œê¸‰ ì™„ë£Œ

### 3. í•™ìƒ ìƒì„¸ ì¡°íšŒ
```bash
curl "/api/admin/users/116"
```
**ê²°ê³¼**: âœ… ì„±ê³µ
- ì´ë¦„, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸ í‘œì‹œ
- í¬ì¸íŠ¸, ì”ì•¡ ì •ë³´ í¬í•¨

---

## ğŸš€ ë°°í¬ ì •ë³´

- **URL**: https://genspark-ai-developer.superplacestudy.pages.dev
- **ë¸Œëœì¹˜**: genspark_ai_developer
- **ìµœì¢… ì»¤ë°‹**: 82621ce
- **ìƒíƒœ**: âœ… ë°°í¬ ì™„ë£Œ

### ì£¼ìš” URL
| í˜ì´ì§€ | URL | ê¶Œí•œ |
|--------|-----|------|
| í•™ìƒ ëª©ë¡ | `/dashboard/students` | ëª¨ë“  ë¡œê·¸ì¸ ì‚¬ìš©ì |
| í•™ìƒ ì¶”ê°€ | `/dashboard/students/add` | í•™ì›ì¥, ì„ ìƒë‹˜, ê´€ë¦¬ì |
| í•™ìƒ ìƒì„¸ | `/dashboard/students/detail?id=116` | ëª¨ë“  ë¡œê·¸ì¸ ì‚¬ìš©ì |

---

## ğŸ“– ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ê´€ë¦¬ìê°€ ì „ì²´ í•™ìƒ ì¡°íšŒ
1. ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
2. `/dashboard/students` ì ‘ì†
3. ëª¨ë“  í•™ì›ì˜ ì „ì²´ í•™ìƒ ëª©ë¡ í‘œì‹œ
4. ê²€ìƒ‰ìœ¼ë¡œ íŠ¹ì • í•™ìƒ ì°¾ê¸°
5. "ìƒì„¸ë³´ê¸°" í´ë¦­í•˜ì—¬ ìƒì„¸ ì •ë³´ í™•ì¸

### ì‹œë‚˜ë¦¬ì˜¤ 2: í•™ì›ì¥ì´ ë³¸ì¸ í•™ì› í•™ìƒ ì¶”ê°€
1. í•™ì›ì¥ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
2. `/dashboard/students` ì ‘ì†
3. "í•™ìƒ ì¶”ê°€" ë²„íŠ¼ í´ë¦­
4. í•™ìƒ ì •ë³´ ì…ë ¥:
   - ì´ë¦„: ê¹€í•™ìƒ
   - ì´ë©”ì¼: student@academy.com
   - ë¹„ë°€ë²ˆí˜¸: pass1234
   - ì „í™”ë²ˆí˜¸: 010-1234-5678
5. í•™ì›ëª… ìë™ ì„¤ì •ë¨
6. "í•™ìƒ ì¶”ê°€" ë²„íŠ¼ í´ë¦­
7. ì„±ê³µ ë©”ì‹œì§€ í›„ í•™ìƒ ëª©ë¡ìœ¼ë¡œ ì´ë™

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì„ ìƒë‹˜ì´ í•™ìƒ ìƒì„¸ ì •ë³´ í™•ì¸
1. ì„ ìƒë‹˜ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
2. `/dashboard/students` ì ‘ì†
3. ë³¸ì¸ í•™ì› í•™ìƒ ëª©ë¡ í‘œì‹œ
4. íŠ¹ì • í•™ìƒ "ìƒì„¸ë³´ê¸°" í´ë¦­
5. 4ê°œ íƒ­ìœ¼ë¡œ ë‹¤ì–‘í•œ ì •ë³´ í™•ì¸:
   - ê¸°ë³¸ ì •ë³´: ì—°ë½ì²˜, í¬ì¸íŠ¸ ë“±
   - í•™ìŠµ í˜„í™©: ì§„ë„ í™•ì¸
   - ì¶œì„ ê¸°ë¡: ì¶œì„ë¥  ë¶„ì„
   - í™œë™ ë‚´ì—­: AI ì±„íŒ… í™œë™

---

## ğŸ’¡ í–¥í›„ ê°œì„  ì‚¬í•­

### í•™ìƒ ê´€ë¦¬
- [ ] í•™ìƒ ì •ë³´ ìˆ˜ì • ê¸°ëŠ¥
- [ ] í•™ìƒ ì‚­ì œ/ë¹„í™œì„±í™” ê¸°ëŠ¥
- [ ] í•™ìƒ ì¼ê´„ ë“±ë¡ (CSV ì—…ë¡œë“œ)
- [ ] í•™ìƒ í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ

### í•™ìŠµ í˜„í™©
- [ ] ìˆ˜ê°• ì¤‘ì¸ ê³¼ëª© í‘œì‹œ
- [ ] ê³¼ëª©ë³„ ì§„ë„ìœ¨ ì°¨íŠ¸
- [ ] ì„±ì  ê´€ë¦¬ ì‹œìŠ¤í…œ
- [ ] í•™ìŠµ ëª©í‘œ ì„¤ì •

### ì¶œì„ ê¸°ë¡
- [ ] ì›”ë³„ ì¶œì„ ìº˜ë¦°ë”
- [ ] ì¶œì„ë¥  í†µê³„
- [ ] ì§€ê°/ì¡°í‡´ ê¸°ë¡
- [ ] ì¶œì„ ì•Œë¦¼ ë°œì†¡

### í™œë™ ë‚´ì—­
- [ ] AI ì±„íŒ… íˆìŠ¤í† ë¦¬
- [ ] ìˆ™ì œ ì œì¶œ ë‚´ì—­
- [ ] í¬ì¸íŠ¸ ì ë¦½/ì‚¬ìš© ë‚´ì—­
- [ ] í™œë™ í†µê³„ ì°¨íŠ¸

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] í•™ì›ë³„ í•™ìƒ í•„í„°ë§ API êµ¬í˜„
- [x] í•™ìƒ ëª©ë¡ í˜ì´ì§€ ì—…ë°ì´íŠ¸
- [x] í•™ìƒ ìƒì„¸ í˜ì´ì§€ êµ¬í˜„
- [x] í•™ìƒ ì¶”ê°€ í˜ì´ì§€ êµ¬í˜„
- [x] í¼ ìœ íš¨ì„± ê²€ì‚¬
- [x] ë¹„ë°€ë²ˆí˜¸ í‘œì‹œ/ìˆ¨ê¹€ ê¸°ëŠ¥
- [x] ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ë¼ìš°íŒ…
- [x] ê¶Œí•œë³„ ì ‘ê·¼ ì œì–´
- [x] ë°˜ì‘í˜• ë””ìì¸
- [x] ë¹Œë“œ ì„±ê³µ
- [x] ë°°í¬ ì™„ë£Œ
- [x] í…ŒìŠ¤íŠ¸ ì™„ë£Œ

---

## ğŸ“ ì£¼ìš” ë³€ê²½ ì‚¬í•­

### í•™ìƒ ëª©ë¡ í˜ì´ì§€
```typescript
// Before
const response = await fetch("/api/students");

// After
const params = new URLSearchParams();
params.append('role', user.role);
params.append('academyId', user.academy_id);
const response = await fetch(`/api/students?${params.toString()}`);
```

### ë¼ìš°íŒ… ë°©ì‹
```typescript
// Before (ë™ì  ë¼ìš°íŠ¸)
router.push(`/dashboard/students/${student.id}`);

// After (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°)
router.push(`/dashboard/students/detail?id=${student.id}`);
```

---

**ì‘ì„±ì¼**: 2026-02-05  
**ì‘ì„±ì**: AI Assistant  
**ìƒíƒœ**: âœ… ëª¨ë“  ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ
