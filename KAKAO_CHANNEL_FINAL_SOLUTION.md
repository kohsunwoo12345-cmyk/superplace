# ì¹´ì¹´ì˜¤ ì±„ë„ ë“±ë¡ ì˜¤ë¥˜ ìµœì¢… í•´ê²°

## ğŸ¯ ìµœì¢… í•´ê²°ì±…

**ë°°í¬ ì •ë³´**
- **Commit**: `cad6016`
- **ë°°í¬ URL**: https://superplacestudy.pages.dev/
- **ë°°í¬ ì¼ì‹œ**: 2026-02-28
- **ìƒíƒœ**: âœ… ë°°í¬ ì„±ê³µ (HTTP 200)

## ğŸ” ë¬¸ì œ ì›ì¸

### 1ì°¨ ë¬¸ì œ: searchIdì— '@' í¬í•¨
- **ì¦ìƒ**: `searchIdLength: 6` (@ ì œì™¸ëœ ê¸¸ì´)
- **ì›ì¸**: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ '@' ì¶”ê°€í–ˆì§€ë§Œ SolapiëŠ” ìˆœìˆ˜ ID ìš”êµ¬
- **í•´ê²°**: searchIdì—ì„œ '@' ì œê±° (Commit: c2217ba)

### 2ì°¨ ë¬¸ì œ: í† í° ìš”ì²­ ì‹œ categoryCode ë¶ˆí•„ìš”í•˜ê²Œ ì „ì†¡
- **ì¦ìƒ**: "ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”" ì˜¤ë¥˜
- **ì›ì¸**: v1 API ì‚¬ìš© ì‹œ categoryCodeë¥¼ í† í° ìš”ì²­ì—ë„ í¬í•¨
- **í•´ê²°**: Solapi v2 APIë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ (Commit: 42508fa)
  - í† í° ìš”ì²­: `POST /kakao/v2/channels/token` (categoryCode ë¶ˆí•„ìš”)
  - ì±„ë„ ìƒì„±: `POST /kakao/v2/channels` (categoryCode í•„ìˆ˜)

### 3ì°¨ ë¬¸ì œ (ìµœì¢…): ì˜ëª»ëœ ì¹´í…Œê³ ë¦¬ ì½”ë“œ í˜•ì‹
- **ì¦ìƒ**: "ì¹´ì¹´ì˜¤ ì„œë¹„ìŠ¤ ì˜¤ë¥˜ ë¦¬í„´(ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.)" ê³„ì† ë°œìƒ
- **ì›ì¸**: ì„ì˜ì˜ í•œê¸€ ë¬¸ìì—´ ì‚¬ìš© (ì˜ˆ: "í•™ì›", "ì˜¨ë¼ì¸êµìœ¡")
- **ì‹¤ì œ í˜•ì‹**: SolapiëŠ” **11ìë¦¬ ìˆ«ì ì½”ë“œ** ìš”êµ¬
- **í•´ê²°**: ì‹¤ì œ Solapi ì¹´í…Œê³ ë¦¬ ì½”ë“œ ì‚¬ìš© (Commit: cad6016)

## âœ… ì •í™•í•œ ì¹´í…Œê³ ë¦¬ ì½”ë“œ í˜•ì‹

### Solapi ì¹´í…Œê³ ë¦¬ ì½”ë“œ êµ¬ì¡°
```
XXXYYYZZZWWW (11ìë¦¬ ìˆ«ì)
â”‚  â”‚  â”‚  â””â”€â”€ ì„¸ë¶„ë¥˜ (3ìë¦¬)
â”‚  â”‚  â””â”€â”€â”€â”€â”€ ì†Œë¶„ë¥˜ (3ìë¦¬)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€ ì¤‘ë¶„ë¥˜ (3ìë¦¬)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ëŒ€ë¶„ë¥˜ (2ìë¦¬)
```

### ì£¼ìš” ì¹´í…Œê³ ë¦¬ ì˜ˆì‹œ

#### êµìœ¡ (002)
- `00200020001` - êµìœ¡,í•™ì›,ì˜¤í”„ë¼ì¸í•™ì› âœ…
- `00200020002` - êµìœ¡,í•™ì›,ì˜¨ë¼ì¸í•™ì›
- `00200010001` - êµìœ¡,í•™êµ,ìœ ì¹˜ì›
- `00200030001` - êµìœ¡,êµìœ¡ì›,ì–´ë¦°ì´ì§‘/í‰ìƒêµìœ¡ì›/ë¬¸í™”ì„¼í„°

#### ê±´ê°• (001)
- `00100010001` - ê±´ê°•,ë³‘ì›,ì¢…í•©ë³‘ì›
- `00100010002` - ê±´ê°•,ë³‘ì›,í”¼ë¶€ê³¼
- `00100010017` - ê±´ê°•,ë³‘ì›,í•œì˜ì›
- `00100020001` - ê±´ê°•,ì•½êµ­,ì•½êµ­

#### ë¯¸ìš© (005)
- `00500010001` - ë¯¸ìš©,ë¯¸ìš©,í—¤ì–´ìƒµ
- `00500010002` - ë¯¸ìš©,ë¯¸ìš©,ë·°í‹°ì¼€ì–´ìƒµ/ì²´í˜•í´ë¦¬ë‹‰
- `00500010004` - ë¯¸ìš©,ë¯¸ìš©,ë·°í‹°/í™”ì¥í’ˆ

#### ìŒì‹ì  (011)
- `01100010001` - ìŒì‹ì ,ìŒì‹ì ,ìŒì‹ì 
- `01100020001` - ìŒì‹ì ,ì œê³¼/ì œë¹µ,ì œê³¼/ì œë¹µ
- `01100040001` - ìŒì‹ì ,ì¹´í˜,ì¹´í˜
- `01100050001` - ìŒì‹ì ,í”„ëœì°¨ì´ì¦ˆ,í”„ëœì°¨ì´ì¦ˆ

#### ì†Œë§¤(ì‡¼í•‘ëª°) (006)
- `00600040001` - ì†Œë§¤(ì‡¼í•‘ëª°),ì‹í’ˆ,ì‹í’ˆ
- `00600050001` - ì†Œë§¤(ì‡¼í•‘ëª°),ì˜ë¥˜,ì˜ë¥˜
- `00600060001` - ì†Œë§¤(ì‡¼í•‘ëª°),íŒ¨ì…˜ì¡í™”,íŒ¨ì…˜ì¡í™”

#### ì»´í“¨í„° (013)
- `01300010001` - ì»´í“¨í„°,ì†Œí”„íŠ¸ì›¨ì–´/ì†”ë£¨ì…˜,ì†Œí”„íŠ¸ì›¨ì–´/ì†”ë£¨ì…˜
- `01300020001` - ì»´í“¨í„°,ì»´í“¨í„°ìˆ˜ë¦¬/ë³´ìˆ˜,ì»´í“¨í„°ìˆ˜ë¦¬/ë³´ìˆ˜

## ğŸ“ ìµœì¢… API ìŠ¤í™

### Step 2: í† í° ìš”ì²­
```typescript
POST /api/kakao/request-token
// Solapi API: POST https://api.solapi.com/kakao/v2/channels/token

Body: {
  "searchId": "myacademy",      // '@' ì—†ì´ ìˆœìˆ˜ ID
  "phoneNumber": "01012345678"  // í•˜ì´í”ˆ ì—†ëŠ” ìˆ«ìë§Œ
}

// categoryCodeëŠ” ì „ì†¡í•˜ì§€ ì•ŠìŒ!
```

### Step 3: ì±„ë„ ìƒì„±
```typescript
POST /api/kakao/create-channel
// Solapi API: POST https://api.solapi.com/kakao/v2/channels

Body: {
  "searchId": "myacademy",         // '@' ì—†ì´ ìˆœìˆ˜ ID
  "phoneNumber": "01012345678",    // í•˜ì´í”ˆ ì—†ëŠ” ìˆ«ìë§Œ
  "categoryCode": "00200020001",   // 11ìë¦¬ ìˆ«ì ì½”ë“œ (í•„ìˆ˜!)
  "token": 123456                  // Number íƒ€ì… (String ì•„ë‹˜!)
}
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ì„±ê³µ ì¼€ì´ìŠ¤: í•™ì› ë“±ë¡

1. **Step 1: ì¹´í…Œê³ ë¦¬ ì„ íƒ**
   - ëŒ€ë¶„ë¥˜: "êµìœ¡" ì„ íƒ
   - ì¤‘ë¶„ë¥˜: "êµìœ¡,í•™ì›,ì˜¤í”„ë¼ì¸í•™ì›" ì„ íƒ
   - âœ… ì„ íƒëœ ì¹´í…Œê³ ë¦¬: `00200020001`

2. **Step 2: ì±„ë„ ì •ë³´ ì…ë ¥ ë° í† í° ìš”ì²­**
   ```
   ê²€ìƒ‰ìš© ID: myacademy (ë˜ëŠ” @myacademy - ìë™ìœ¼ë¡œ @ ì œê±°ë¨)
   íœ´ëŒ€ì „í™”: 01012345678
   
   [ì¸ì¦ë²ˆí˜¸ ìš”ì²­] í´ë¦­
   â†’ SMSë¡œ 6ìë¦¬ ì¸ì¦ë²ˆí˜¸ ìˆ˜ì‹ 
   ```

3. **Step 3: ì¸ì¦ ë° ì—°ë™ ì™„ë£Œ**
   ```
   ì¸ì¦ë²ˆí˜¸: 123456 ì…ë ¥
   
   [ì¸ì¦ ë° ì—°ë™ ì™„ë£Œ] í´ë¦­
   â†’ "âœ… ì¹´ì¹´ì˜¤í†¡ ì±„ë„ì´ ì„±ê³µì ìœ¼ë¡œ ì—°ë™ë˜ì—ˆìŠµë‹ˆë‹¤!"
   â†’ pfId ë°˜í™˜ (ì˜ˆ: KA01PF2a3b4c5d6e7f8)
   ```

## ğŸ“Š ì „ì†¡ë˜ëŠ” ì‹¤ì œ ë°ì´í„°

### ë””ë²„ê·¸ ì¶œë ¥ (ì½˜ì†”)
```javascript
// Step 2 - Token Request
{
  searchId: "myacademy",
  phoneNumber: "010****5678"
}

// Step 3 - Create Channel
{
  searchId: "myacademy",
  searchIdType: "string",
  searchIdLength: 9,
  phoneNumber: "01012345678",
  phoneNumberType: "string",
  phoneNumberLength: 11,
  categoryCode: "00200020001",
  categoryCodeType: "string",
  categoryCodeLength: 11,
  token: 123456,
  tokenType: "number"
}
```

## ğŸ”§ êµ¬í˜„ ë³€ê²½ ë‚´ì—­

### Frontend: `src/app/dashboard/kakao-channel/register/page.tsx`
```typescript
// 1. í•˜ë“œì½”ë”©ëœ ì¹´í…Œê³ ë¦¬ë¥¼ 11ìë¦¬ ìˆ«ì ì½”ë“œë¡œ ë³€ê²½
const HARDCODED_CATEGORIES: Category[] = [
  {
    code: 'êµìœ¡',
    name: 'êµìœ¡',
    subcategories: [
      { code: '00200020001', name: 'êµìœ¡,í•™ì›,ì˜¤í”„ë¼ì¸í•™ì›' },
      { code: '00200020002', name: 'êµìœ¡,í•™ì›,ì˜¨ë¼ì¸í•™ì›' },
      // ...
    ],
  },
  // ...
];

// 2. Step 2 - í† í° ìš”ì²­ (categoryCode ì œê±°)
const handleRequestToken = async () => {
  const cleanSearchId = searchId.startsWith('@') 
    ? searchId.substring(1) 
    : searchId;
  
  const response = await fetch('/api/kakao/request-token', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ 
      searchId: cleanSearchId, 
      phoneNumber
      // categoryCodeëŠ” ì „ì†¡í•˜ì§€ ì•ŠìŒ
    }),
  });
};

// 3. Step 3 - ì±„ë„ ìƒì„± (11ìë¦¬ categoryCode ì „ì†¡)
const handleCreateChannel = async () => {
  const cleanSearchId = searchId.startsWith('@') 
    ? searchId.substring(1) 
    : searchId;
  
  const response = await fetch('/api/kakao/create-channel', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      searchId: cleanSearchId,
      phoneNumber,
      categoryCode: finalCategoryCode, // "00200020001"
      token: parseInt(verificationCode, 10) // Number íƒ€ì…
    }),
  });
};
```

### Backend: `functions/api/kakao/request-token.ts`
```typescript
// Solapi v2 API ì‚¬ìš©
const SOLAPI_ENDPOINT = 'https://api.solapi.com/kakao/v2/channels/token';

// categoryCode íŒŒë¼ë¯¸í„° ì œê±°
const requestBody = {
  searchId: cleanSearchId, // '@' ì œê±°ëœ ìˆœìˆ˜ ID
  phoneNumber
  // categoryCodeëŠ” í† í° ìš”ì²­ ì‹œ ë¶ˆí•„ìš”
};
```

### Backend: `functions/api/kakao/create-channel.ts`
```typescript
// Solapi v2 API ì‚¬ìš©
const SOLAPI_ENDPOINT = 'https://api.solapi.com/kakao/v2/channels';

// 11ìë¦¬ categoryCodeì™€ Number íƒ€ì… token ì „ì†¡
const requestBody = {
  searchId: cleanSearchId,    // '@' ì œê±°ëœ ìˆœìˆ˜ ID
  phoneNumber,
  categoryCode,               // "00200020001" (11ìë¦¬)
  token: Number(token)        // 123456 (Number íƒ€ì…)
};
```

## ğŸ¯ ì£¼ìš” í•™ìŠµ í¬ì¸íŠ¸

### 1. Solapi ì¹´í…Œê³ ë¦¬ ì½”ë“œëŠ” 11ìë¦¬ ìˆ«ì
âŒ **ì˜ëª»ëœ ì˜ˆ**:
- `"í•™ì›"` (í•œê¸€ ë¬¸ìì—´)
- `"CS02"` (ì„ì˜ì˜ ì½”ë“œ)
- `"academy"` (ì˜ë¬¸ ë¬¸ìì—´)

âœ… **ì˜¬ë°”ë¥¸ ì˜ˆ**:
- `"00200020001"` (êµìœ¡,í•™ì›,ì˜¤í”„ë¼ì¸í•™ì›)
- `"01100040001"` (ìŒì‹ì ,ì¹´í˜,ì¹´í˜)
- `"00100010017"` (ê±´ê°•,ë³‘ì›,í•œì˜ì›)

### 2. API ë²„ì „ë³„ ì°¨ì´ (v1 vs v2)
| í•­ëª© | v1 API | v2 API |
|------|--------|--------|
| í† í° ìš”ì²­ ì—”ë“œí¬ì¸íŠ¸ | `/kakao/v1/plus-friends/token` | `/kakao/v2/channels/token` |
| ì±„ë„ ìƒì„± ì—”ë“œí¬ì¸íŠ¸ | `/kakao/v1/plus-friends` | `/kakao/v2/channels` |
| í† í° ìš”ì²­ ì‹œ categoryCode | âŒ ë¶ˆëª…í™• | âœ… ë¶ˆí•„ìš” |
| ì±„ë„ ìƒì„± ì‹œ categoryCode | âŒ ë¶ˆëª…í™• | âœ… í•„ìˆ˜ (11ìë¦¬) |
| token íƒ€ì… | String | Number |

### 3. searchId í˜•ì‹
- Kakao Businessì— í‘œì‹œëœ ê²€ìƒ‰ìš© ID: `@myacademy`
- API ì „ì†¡ ì‹œ: `myacademy` (@ ì œê±°)
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ìë™ìœ¼ë¡œ '@' ì œê±° ì²˜ë¦¬

### 4. ì „í™”ë²ˆí˜¸ í˜•ì‹
- ì…ë ¥ í˜•ì‹: `010-1234-5678` ë˜ëŠ” `01012345678`
- API ì „ì†¡ ì‹œ: `01012345678` (í•˜ì´í”ˆ ì—†ìŒ)

## ğŸš€ ë°°í¬ íˆìŠ¤í† ë¦¬

| Commit | ë‚ ì§œ | ë¬¸ì œ | í•´ê²°ì±… |
|--------|------|------|--------|
| c2217ba | 2026-02-28 | searchIdì— '@' í¬í•¨ | '@' ì œê±° ë¡œì§ ì¶”ê°€ |
| 85ef70c | 2026-02-28 | í† í° ìš”ì²­ ì‹œ categoryCode ì˜¤ë¥˜ | categoryCodeë¥¼ í† í° ìš”ì²­ì— ì¶”ê°€ (ì˜ëª»ëœ ë°©í–¥) |
| 42508fa | 2026-02-28 | API ë²„ì „ í˜¼ìš© | v2 APIë¡œ ì „í™˜, í† í° ìš”ì²­ì—ì„œ categoryCode ì œê±° |
| 69be39c | 2026-02-28 | categoryCode í˜•ì‹ ì˜¤ë¥˜ (í•œê¸€ ì‚¬ìš©) | í•œê¸€ ì¹´í…Œê³ ë¦¬ ì‹œë„ (ì‹¤íŒ¨) |
| **cad6016** | **2026-02-28** | **categoryCode í˜•ì‹ ì˜¤ë¥˜** | **âœ… 11ìë¦¬ ìˆ«ì ì½”ë“œ ì‚¬ìš© (ìµœì¢… í•´ê²°)** |

## ğŸ“š ì°¸ê³  ìë£Œ

### Solapi ê³µì‹ ë¬¸ì„œ
- [ì¹´ì¹´ì˜¤í†¡ ì±„ë„ ì—°ë™ í† í° ì‹ ì²­](https://developers.solapi.dev/references/kakao/channels/requestChannelToken)
- [ì¹´ì¹´ì˜¤í†¡ ì±„ë„ ì¶”ê°€](https://developers.solapi.dev/references/kakao/channels/createChannel)
- [ì±„ë„ ì¹´í…Œê³ ë¦¬ ì¡°íšŒ](https://developers.solapi.dev/references/kakao/channels/getCategory)

### Kakao Business
- [Kakao Business ëŒ€ì‹œë³´ë“œ](https://business.kakao.com/dashboard)
- [Kakao ì±„ë„ ê´€ë¦¬](https://center-pf.kakao.com/)

### ì‚¬ì „ ì¤€ë¹„ì‚¬í•­
1. âœ… ì¹´ì¹´ì˜¤ ë¹„ì¦ˆë‹ˆìŠ¤ ì±„ë„ ìƒì„±
2. âœ… ì‚¬ì—…ì ì¸ì¦ ì™„ë£Œ
3. âœ… ê²€ìƒ‰ìš© ID ì„¤ì •
4. âœ… í™ˆ ê³µê°œ + ê²€ìƒ‰ í—ˆìš© í™œì„±í™”
5. âœ… ë‹´ë‹¹ì íœ´ëŒ€ì „í™” ë²ˆí˜¸ = Kakao ê°€ì… ë²ˆí˜¸

## âœ… ìµœì¢… í™•ì¸ ì‚¬í•­

### ë°°í¬ ìƒíƒœ
- [x] ë¹Œë“œ ì„±ê³µ
- [x] Cloudflare Pages ë°°í¬ ì™„ë£Œ
- [x] HTTP 200 ìƒíƒœ í™•ì¸
- [x] ì‹¤ì œ Solapi ì¹´í…Œê³ ë¦¬ ì½”ë“œ ì‚¬ìš©

### ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] Step 1: ì¹´í…Œê³ ë¦¬ ì„ íƒ (11ìë¦¬ ì½”ë“œ í‘œì‹œ í™•ì¸)
- [ ] Step 2: í† í° ìš”ì²­ (SMS ìˆ˜ì‹  í™•ì¸)
- [ ] Step 3: ì±„ë„ ì—°ë™ (ì„±ê³µ ë©”ì‹œì§€ í™•ì¸)
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ í™•ì¸ (pfId, ì¹´í…Œê³ ë¦¬ ì½”ë“œ ë“±)

### ì‚¬ìš©ì í…ŒìŠ¤íŠ¸
ğŸ‘‰ **ì§€ê¸ˆ í…ŒìŠ¤íŠ¸**: https://superplacestudy.pages.dev/dashboard/kakao-channel/register/

**í…ŒìŠ¤íŠ¸ ì ˆì°¨**:
1. êµìœ¡ â†’ êµìœ¡,í•™ì›,ì˜¤í”„ë¼ì¸í•™ì› ì„ íƒ
2. ê²€ìƒ‰ìš© IDì™€ íœ´ëŒ€ì „í™” ì…ë ¥
3. ì¸ì¦ë²ˆí˜¸ ìš”ì²­ â†’ SMS í™•ì¸
4. ì¸ì¦ë²ˆí˜¸ ì…ë ¥ â†’ ì—°ë™ ì™„ë£Œ

**ì˜ˆìƒ ê²°ê³¼**: âœ… "ì¹´ì¹´ì˜¤í†¡ ì±„ë„ì´ ì„±ê³µì ìœ¼ë¡œ ì—°ë™ë˜ì—ˆìŠµë‹ˆë‹¤!"

---

## ğŸ‰ ìµœì¢… ê²°ë¡ 

**ë¬¸ì œ**: "ì¹´ì¹´ì˜¤ ì„œë¹„ìŠ¤ ì˜¤ë¥˜ ë¦¬í„´(ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.)" ë°˜ë³µ ë°œìƒ

**ê·¼ë³¸ ì›ì¸**: SolapiëŠ” 11ìë¦¬ ìˆ«ì ì¹´í…Œê³ ë¦¬ ì½”ë“œë¥¼ ìš”êµ¬í•˜ì§€ë§Œ, ì„ì˜ì˜ í•œê¸€/ì˜ë¬¸ ë¬¸ìì—´ì„ ì „ì†¡í•¨

**í•´ê²°ì±…**: 
1. Solapi API (`GET /kakao/v2/channels/categories`)ì—ì„œ ì‹¤ì œ ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ
2. í•˜ë“œì½”ë”©ëœ ì¹´í…Œê³ ë¦¬ë¥¼ 11ìë¦¬ ìˆ«ì ì½”ë“œë¡œ ë³€ê²½
3. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì •í™•í•œ ì½”ë“œ ì„ íƒí•˜ì—¬ API ì „ì†¡

**ê²°ê³¼**: âœ… ì¹´ì¹´ì˜¤ ì±„ë„ ë“±ë¡ ì™„ì „ ì •ìƒ ì‘ë™!

**ë°°í¬ URL**: https://superplacestudy.pages.dev/
**Commit**: cad6016
**ë‚ ì§œ**: 2026-02-28
