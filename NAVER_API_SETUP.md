# 🔑 네이버 광고 API 연동 가이드

## 📌 현재 상태

현재 키워드 분석 도구는 **샘플 데이터**를 표시합니다.
실제 네이버 검색량 데이터를 보려면 네이버 광고 API 키가 필요합니다.

---

## 🎯 네이버 광고 API란?

네이버 광고 API는 네이버 검색광고 시스템의 데이터를 프로그래밍으로 접근할 수 있게 해주는 서비스입니다.

**제공 정보:**
- ✅ 실시간 키워드 검색량 (PC + 모바일)
- ✅ 월간/연간 검색 트렌드
- ✅ 경쟁 강도 (광고 입찰 경쟁률)
- ✅ 연관 키워드 추천
- ✅ 클릭률 예상치

---

## 🚀 네이버 API 키 발급 받기 (단계별)

### STEP 1️⃣: 네이버 광고 계정 생성

1. **네이버 광고 사이트 접속**
   - URL: https://searchad.naver.com

2. **회원가입 또는 로그인**
   - 네이버 계정으로 로그인
   - 사업자 정보 입력 (개인/법인)

3. **광고 계정 생성**
   - 최소 금액 충전 필요 (10,000원 이상)
   - 광고를 집행하지 않아도 API 사용 가능

### STEP 2️⃣: API 사용 신청

1. **고객센터 접속**
   - 네이버 광고 로그인 후
   - 상단 메뉴 → "고객센터" 클릭

2. **API 이용 신청**
   - "1:1 문의하기" 선택
   - 제목: "광고 API 사용 신청"
   - 내용 예시:
   ```
   안녕하세요.
   
   네이버 광고 API 사용을 신청합니다.
   
   - 사용 목적: 키워드 분석 도구 개발
   - 회사명: [회사명]
   - 사업자번호: [사업자번호]
   - 담당자: [이름]
   - 연락처: [전화번호]
   
   API 사용 승인 부탁드립니다.
   감사합니다.
   ```

3. **승인 대기**
   - 보통 1-3 영업일 소요
   - 승인되면 이메일로 통보

### STEP 3️⃣: API 키 발급

승인 후 네이버에서 제공하는 정보:

```
Customer ID: 고객 ID (숫자)
API Key: API 접근 키
Secret Key: API 비밀 키
```

---

## ⚙️ 프로젝트에 API 키 설정하기

### 방법 1: .env 파일 수정

1. **프로젝트 루트 폴더에서 .env 파일 열기**

2. **다음 항목 수정**
   ```bash
   # 네이버 광고 API
   NAVER_CLIENT_ID="여기에_발급받은_API_KEY_입력"
   NAVER_CLIENT_SECRET="여기에_발급받은_SECRET_KEY_입력"
   ```

3. **예시**
   ```bash
   NAVER_CLIENT_ID="0100000000a1b2c3d4e5f6"
   NAVER_CLIENT_SECRET="AaBbCcDdEeFfGg123456789="
   ```

### 방법 2: 서버 재시작

```bash
# 개발 서버를 재시작해야 환경 변수가 적용됩니다
npm run dev
```

---

## ✅ 연동 확인하기

### 테스트 방법

1. **웹사이트 로그인**
   - 관리자 또는 일반 사용자로 로그인

2. **키워드 분석 도구 접속**
   - 좌측 메뉴 → "마케팅 도구" → "키워드 분석"

3. **키워드 검색**
   - 아무 키워드 입력 (예: "학원 마케팅")
   - "검색" 버튼 클릭

4. **데이터 소스 확인**
   - 결과 상단에 표시:
   
   **✅ 실제 네이버 데이터** (성공)
   ```
   ✅ 실제 네이버 데이터
   네이버 광고 API에서 실시간으로 가져온 데이터입니다.
   ```
   
   **⚠️ 샘플 데이터** (API 키 미설정)
   ```
   ⚠️ 샘플 데이터
   네이버 API 키가 설정되지 않아 샘플 데이터를 표시합니다.
   ```

---

## 🔍 네이버 API 데이터 구조

### 실제 API 응답 예시

```json
{
  "keyword": "학원 마케팅",
  "monthlySearchVolume": 8920,
  "yearlySearchVolume": 107040,
  "competition": "중간",
  "isRealData": true,
  "additionalInfo": {
    "pcSearchVolume": 3450,
    "mobileSearchVolume": 5470,
    "competitionIndex": 65
  },
  "relatedKeywords": [
    {
      "keyword": "학원 마케팅 방법",
      "searchVolume": 2340,
      "competition": 58
    },
    {
      "keyword": "학원 홍보",
      "searchVolume": 4120,
      "competition": 72
    }
  ]
}
```

### 샘플 데이터 (API 키 없을 때)

```json
{
  "keyword": "학원 마케팅",
  "monthlySearchVolume": 15234,
  "yearlySearchVolume": 182808,
  "competition": "높음",
  "isRealData": false,
  "warning": "네이버 API 키가 설정되지 않았습니다.",
  "relatedKeywords": [...]
}
```

---

## 💰 비용 정보

### 네이버 광고 API 사용료

1. **기본 사용료**
   - 무료 (광고 계정만 있으면 됨)

2. **광고 계정 유지 비용**
   - 최소 잔액: 10,000원
   - API만 사용하고 광고를 하지 않으면 소진되지 않음

3. **API 호출 제한**
   - 일일 API 호출 제한 있음 (네이버가 정책으로 제한)
   - 일반적으로 충분한 양

---

## 🐛 문제 해결

### Q1: API 키를 설정했는데도 샘플 데이터가 나와요

**해결 방법:**

1. **환경 변수 확인**
   ```bash
   # .env 파일 확인
   cat .env | grep NAVER
   
   # 출력 예시:
   NAVER_CLIENT_ID="..."
   NAVER_CLIENT_SECRET="..."
   ```

2. **서버 재시작**
   ```bash
   # 개발 서버 종료 (Ctrl + C)
   # 다시 시작
   npm run dev
   ```

3. **브라우저 캐시 삭제**
   - Ctrl + Shift + Delete
   - 캐시 및 쿠키 삭제

### Q2: "네이버 API 오류" 메시지가 나와요

**원인:**
- API 키가 잘못됨
- API 사용 권한이 없음
- 일일 호출 한도 초과

**해결 방법:**

1. **API 키 재확인**
   - 복사/붙여넣기 시 공백 제거
   - 따옴표 안에 정확히 입력

2. **네이버 광고 계정 상태 확인**
   - 광고 계정이 활성화되어 있는지
   - API 사용 승인이 완료되었는지

3. **네이버 고객센터 문의**
   - 정확한 오류 메시지와 함께 문의

### Q3: Mock 데이터를 실제 데이터처럼 보이게 할 수 있나요?

**답변:**
아니요, 의도적으로 구분하도록 설계했습니다.
- 사용자가 실제 데이터인지 알 수 있어야 함
- 데이터의 신뢰성을 보장하기 위함

---

## 📚 참고 자료

### 공식 문서
- 네이버 광고 API 가이드: https://naver.github.io/searchad-apidoc/
- 키워드 도구 API: https://naver.github.io/searchad-apidoc/#/operations/GET/keywordstool

### 네이버 광고 센터
- 로그인: https://searchad.naver.com
- 고객센터: https://saedu.naver.com/

---

## 🎯 요약

```
┌────────────────────────────────────────────────┐
│ 네이버 API 연동 3단계                            │
├────────────────────────────────────────────────┤
│                                                │
│ 1️⃣ 네이버 광고 계정 생성                        │
│    → https://searchad.naver.com               │
│    → 최소 10,000원 충전                        │
│                                                │
│ 2️⃣ API 사용 신청                               │
│    → 고객센터 > 1:1 문의                       │
│    → 1-3일 승인 대기                           │
│                                                │
│ 3️⃣ API 키 설정                                 │
│    → .env 파일 수정                            │
│    → 서버 재시작                               │
│    → 연동 완료! ✅                             │
│                                                │
└────────────────────────────────────────────────┘
```

---

## 🔐 보안 주의사항

### ⚠️ 중요!

1. **API 키는 절대 공개하지 마세요**
   - GitHub에 업로드 금지
   - .env 파일은 .gitignore에 포함됨

2. **프로덕션 환경**
   - 환경 변수를 서버 설정에 저장
   - 코드에 하드코딩 금지

3. **정기적으로 키 갱신**
   - 보안을 위해 주기적으로 재발급

---

**💡 TIP**: API 연동이 어렵다면 당분간 샘플 데이터로 사용하셔도 됩니다!
샘플 데이터도 실제 사용 흐름을 테스트하기에 충분합니다.

---

## 📞 도움이 필요하신가요?

네이버 API 연동 관련 문의:

**SUPER PLACE 지원팀**
- 📧 kohsunwoo12345@gmail.com
- 📞 010-8532-8739 (고선우)
- 📍 인천광역시 서구 청라커넬로 270, 2층
