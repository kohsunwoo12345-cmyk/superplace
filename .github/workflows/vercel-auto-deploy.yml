name: Vercel Auto Deploy

on:
  push:
    branches:
      - main
      - genspark_ai_developer

jobs:
  trigger-deployment:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        
      - name: Trigger Vercel Deployment
        run: |
          if [ -n "${{ secrets.VERCEL_DEPLOY_HOOK_URL }}" ]; then
            echo "üöÄ Triggering Vercel deployment..."
            RESPONSE=$(curl -s -X POST "${{ secrets.VERCEL_DEPLOY_HOOK_URL }}")
            echo "‚úÖ Deployment triggered successfully!"
            echo "Response: $RESPONSE"
          else
            echo "‚ùå VERCEL_DEPLOY_HOOK_URL secret not found"
            echo "Please add it in: Settings ‚Üí Secrets ‚Üí Actions"
            exit 1
          fi
          
      - name: Wait for deployment
        run: |
          echo "‚è≥ Waiting 30 seconds for deployment to start..."
          sleep 30
          echo "‚úÖ Check deployment status at: https://vercel.com/dashboard"
